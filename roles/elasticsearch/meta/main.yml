---

dependencies:
  - role: requirements
    key_requirements:
      - https://packages.elastic.co/GPG-KEY-elasticsearch
    ppa_requirements:
      - 'deb http://packages.elastic.co/elasticsearch/{{ elasticsearch_version[0] }}.x/debian stable main'
    apt_requirements:
      - 'elasticsearch={{ elasticsearch_version }}'
      - openjdk-7-jre-headless
    tags: [elasticsearch, dependencies]

  - role: ufw
    ufw_rules: '{{ elasticsearch_ufw_rules }}'
    tags: [elasticsearch, dependencies]
    when: elasticsearch_ufw_rules
