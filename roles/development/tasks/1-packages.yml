---

- name: Install ScudCloud PPA repository
  apt_repository: >
    repo=ppa:rael-gc/scudcloud state=present update_cache=yes
  become: yes
  when: "'scudcloud' in devops_packages"

- name: Install devops packages
  apt: >
    name={{ item }} state=latest
  with_items: devops_packages
  become: yes

- name: Install programming packages
  apt: >
    name={{ item }} state=latest
  with_items: programming_packages
  become: yes

- name: Download sublime text 3
  get_url: >
    url=https://download.sublimetext.com/sublime-text_build-{{ sublime_text_version }}_amd64.deb
    dest=/tmp/sublime-text_build-{{ sublime_text_version }}_amd64.deb
  tags: packages
  when: sublime_text_version is defined and sublime_text_version

- name: Install sublime text 3
  command: >
    gdebi /tmp/sublime-text_build-{{ sublime_text_version }}_amd64.deb --non-interactive
  become: yes
  when: sublime_text_version is defined and sublime_text_version

# FIXME install package control, gitgutter ... configure ...
