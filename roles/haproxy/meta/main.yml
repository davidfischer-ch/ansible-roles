---

dependencies:
  - role: github
    when: haproxy_has_run is undefined

  - role: requirements
    apt_build_requirements:
      - haproxy
    apt_requirements:
      - build-essential
      - libpcre3
      - libpcre3-dev
      - libssl1.0.0
      - libssl-dev
      - zlib1g
      - zlib1g-dev
    when: haproxy_has_run is undefined

  - role: ufw
    ufw_rules: '{{ haproxy_ufw_rules }}'
    when: haproxy_has_run is undefined and nginx_ufw_rules
