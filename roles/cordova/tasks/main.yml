# http://jeffmcmahan.info/blog/installing-cordova-on-linux/
---

- block:
    - name: Check node command is available
      command: >
        node
      always_run: yes
      changed_when: cordova_node_result|failed
      ignore_errors: yes
      register: cordova_node_result

    - name: Add symlink nodejs = node
      file: >
        src=/usr/bin/nodejs dest=/usr/bin/node state=link
      become: yes
      when: cordova_node_result|failed

    - name: Check cordova command is available
      command: >
        cordova
      always_run: yes
      changed_when: no
  tags: [cordova, packages]
